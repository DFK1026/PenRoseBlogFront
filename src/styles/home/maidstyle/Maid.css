.maid-widget {
	--maid-bar-h: 3vh;
	--maid-stage-collapse: 300ms;
	--maid-stage-expand: 300ms;
	--maid-btn-collapse-duration: 260ms;
	--maid-btn-expand-duration: 4200ms;
	--maid-btn-stagger: 100ms;
  position: fixed;
	right: 0vw;
	bottom: 1vh;
	width: 20vw; 
	height: 45vh; 
  background: transparent;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  border: none;
  box-shadow: none;
  color: inherit;
  -webkit-user-select: none;
  user-select: none;
  z-index: 999;
  cursor: grab;
}
.maid-dragging { cursor: grabbing; }
.maid-canvas-wrap {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: var(--maid-bar-h);
	transform: none;
	transition: none;
	will-change: auto;
	border-radius: 10px;
}
.maid-canvas-wrap canvas { width: 100%; height: 100%; }
.maid-controlbar {
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	height: var(--maid-bar-h);
	display: flex;
	align-items: center;
	justify-content: flex-start;
	gap: 10px;
	padding: 6px 10px;
	background: transparent;
	border-top: none;
	border-radius: 0;
	z-index: 51;
	-webkit-backdrop-filter: none;
	backdrop-filter: none;
	box-shadow: none;
}
.maid-controls-label { font-size: 12px; color: #57606a; }
.maid-field { display: inline-flex; align-items: center; gap: 6px; }
.maid-select {
	font-size: 12px;
	padding: 2px 6px;
	border-radius: 6px;
	border: 1px solid #d0d7de;
	background: white;
	color: #24292f;
	outline: none;
}
.maid-toggle {
	height: 30px;
	padding: 10px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 8px;
	border: 1px solid #d0d7de;
	background: #ffffff;
	color: #24292f;
	font-size: 12px;
	line-height: 1;
	transition: all .15s ease;
	margin-left: auto !important;
}
.maid-toggle:hover { background: #f6f8fa; transform: translateY(-1px); }
.maid-toggle:active { transform: translateY(0); }
.maid-iconbtn {
	height: 30px;
	width: 38px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: 8px;
	border: 1px solid #d0d7de;
	background: #ffffff;
	color: #24292f;
	transition: all .15s ease;
}
.maid-iconbtn:hover { background: #f6f8fa; transform: translateY(-1px); }
.maid-iconbtn:active { transform: translateY(0); }
.maid-iconbtn img { width: 18px; height: 18px; display: block; }
.maid-iconbtn:disabled,
.maid-toggle:disabled { opacity: .55; cursor: not-allowed; transform: none; }
.maid-iconbtn-active { background: #ebf8f5; border-color: #9fe3d2; }
.maid-emotion-panel {
	position: absolute;
	min-width: 220px;
	padding: 8px;
	background: rgba(255,255,255,0.55);
	-webkit-backdrop-filter: blur(8px) saturate(140%);
	backdrop-filter: blur(8px) saturate(140%);
	border: 1px solid rgba(208,215,222,0.6);
	border-radius: 8px;
	box-shadow: 0 6px 20px rgba(0,0,0,0.12);
	z-index: 200;
}
.maid-emotion-panel-left { left: 0; top: 50%; bottom: auto; transform: translateX(calc(-100% - 8px)) translateY(-50%); }
.maid-emotion-list { margin: 0; padding: 4px; list-style: none; max-height: 220px; overflow: auto; display: flex; flex-direction: column; gap: 6px; -ms-overflow-style: none; }
.maid-emotion-list::-webkit-scrollbar { width: 0; height: 0; }
.maid-emotion-item { width: 100%; text-align: left; padding: 6px 8px; border: 1px solid #d0d7de; background: #fff; border-radius: 6px; font-size: 12px; color: #24292f; transition: all .12s ease; }
.maid-emotion-item:hover { background: #f6f8fa; transform: translateY(-1px); }
.maid-emotion-item:active { transform: translateY(0); }
.maid-emotion-item.active { background: #ebf8f5; border-color: #9fe3d2; }
.maid-section-title { margin: 6px 4px 4px; font-size: 12px; font-weight: 600; color: #334155; }
.maid-status,
.maid-error {
	position: absolute;
	left: 12px;
	bottom: calc(var(--maid-bar-h) + 8px);
	padding: 4px 8px;
	font-size: 12px;
	border-radius: 6px;
	background: rgba(255,255,255,0.9);
	border: 1px solid #d0d7de;
	color: #24292f;
	z-index: 52;
}
.maid-error { color: #b42318; background: #fee4e2; border-color: #fecdca; }
.maid-range { width: 120px; accent-color: #40c2a4; }
.maid-loading-overlay {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: var(--maid-bar-h);
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 10px;
	background: rgba(255,255,255,0.55);
	-webkit-backdrop-filter: blur(4px) saturate(140%);
	backdrop-filter: blur(4px) saturate(140%);
	z-index: 60;
	transform-origin: bottom center;
	transition: none;
}
.maid-spinner {
	width: 36px;
	height: 36px;
	border-radius: 50%;
	border: 3px solid rgba(64, 194, 164, 0.25);
	border-top-color: #40c2a4;
	animation: maid-spin 0.9s linear infinite;
}
@keyframes maid-spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.maid-loading-text { font-size: 12px; color: #374151; }
.maid-settings-panel {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: var(--maid-bar-h);
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	gap: 16px;
	padding: 10px 12px;
	background: rgba(255, 255, 255, 0.5);
	border: none;
	color: #24292f;
	z-index: 50;
	transform: none;
	transition: none;
}
.maid-settings-panel .maid-field { width: 100%; }
@media (max-width: 480px) {
	.maid-widget { width: 260px; height: 360px; right: 12px; bottom: 12px; }
}
@media (max-width: 360px) {
	.maid-widget { width: 220px; height: 320px; right: 10px; bottom: 10px; }
}
.maid-widget.maid-anim-collapsing-stage .maid-canvas-wrap { animation: maid-stage-collapse var(--maid-stage-collapse) ease forwards; }
@keyframes maid-stage-collapse { 0% { clip-path: inset(0 0 0 0); opacity: 1; } 100% { clip-path: inset(0 0 100% 0); opacity: 0; } }
.maid-widget.maid-anim-collapsing-controls .maid-controlbar .maid-btn:not(.maid-toggle) { animation: maid-btn-collapse var(--maid-btn-collapse-duration) ease forwards; animation-delay: calc(var(--i) * var(--maid-btn-stagger)); }
@keyframes maid-btn-collapse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(.6); opacity: 0; } }
.maid-widget.maid-anim-expanding-controls .maid-controlbar .maid-btn:not(.maid-toggle) { animation: maid-btn-expand var(--maid-btn-expand-duration) cubic-bezier(.22,.8,.3,1) forwards; animation-delay: calc((var(--btnCount) - 1 - var(--i)) * var(--maid-btn-stagger)); }
@keyframes maid-btn-expand { 0% { transform: scale(.6); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
.maid-widget.maid-anim-expanding-stage .maid-canvas-wrap { animation: maid-stage-expand var(--maid-stage-expand) ease forwards; }
@keyframes maid-stage-expand { 0% { clip-path: inset(100% 0 0 0); opacity: 0; } 100% { clip-path: inset(0 0 0 0); opacity: 1; } }
.maid-widget.maid-anim-expanding-stage .maid-canvas-wrap,
.maid-widget.maid-anim-expanding-stage .maid-loading-overlay { visibility: visible; }
.maid-widget.maid-collapsed .maid-controlbar .maid-btn:not(.maid-toggle) { opacity: 0; transform: scale(.6); pointer-events: none; }
.maid-widget.maid-collapsed .maid-controlbar { justify-content: flex-start; }
.maid-widget.maid-collapsed { z-index: 10; }
.maid-widget.maid-collapsed .maid-canvas-wrap,
.maid-widget.maid-collapsed .maid-loading-overlay { opacity: 0; visibility: hidden; pointer-events: none; clip-path: inset(0 0 100% 0); transition: none; }